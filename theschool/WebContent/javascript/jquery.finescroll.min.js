!function(t){if(!t.browser){var e={},r=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(r)||/(webkit)[ \/]([\w.]+)/.exec(r)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(r)||/(msie) ([\w.]+)/.exec(r)||r.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(r)||[],l={browser:i[1]||"",version:i[2]||0};l.browser&&(e[l.browser]=!0,e.version=l.version),e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0),t.browser=e}}(jQuery),function(t,e,r){var i={getEvent:function(t){return t||e.event},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}},l=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},o=function(e){var r=t(this).data("finescroll"),i=this,l=r.settings,o=function(){var e=t(this).data("finescroll"),r=e.settings;e&&r.showOnHover&&(r.verticalScrolling&&"none"!==t(e.verticalTrackWrapper).css("display")&&t(e.verticalTrackWrapper).stop().fadeTo("fast",0),r.horizontalScrolling&&"none"!==t(e.horizontalTrackWrapper).css("display")&&t(e.horizontalTrackWrapper).stop().fadeTo("fast",0),e._fadeTimer=null)};r&&l.showOnHover&&(r._fadeTimer?clearTimeout(r._fadeTimer):(l.verticalScrolling&&"none"!==t(r.verticalTrackWrapper).css("display")&&t(r.verticalTrackWrapper).stop().fadeTo("fast",1),l.horizontalScrolling&&"none"!==t(r.horizontalTrackWrapper).css("display")&&t(r.horizontalTrackWrapper).stop().fadeTo("fast",1)),e!==!1&&(r._fadeTimer=setTimeout(function(){o.call(i)},1500)))},n=function(e,r){var i=t(e),l=i.data("finescroll"),n=i.scrollTop();l&&l.settings.verticalScrolling&&(i.scrollTop(n+r),l.settings.showOnHover&&o.call(e))},s=function(e,r){var i=t(e),l=i.data("finescroll"),n=i.scrollLeft();l&&l.settings.horizontalScrolling&&(i.scrollLeft(n+r),l.settings.showOnHover&&o.call(e))},a=function(e){if(1===e.which){var i,n,s,a,c,h,d,f,u,p=e.data.pane,g=t(p).data("finescroll"),v=!0,m=function(){v&&(s!==a&&(t(p).scrollTop(s*u/f),a=s),l(m),o.call(p))},w=function(t){return v&&(s=t.clientY-h-c,s=Math.min(0>s?0:s,f)),!1},b=function(){return v=!1,r.body.style.cursor=d,this.style.cursor="",t(i).removeClass("dragging"),t(r.body).off("mousemove.finescroll.vertical").off("mouseup.finescroll.vertical"),!1};return i=t(g.verticalTrackWrapper).find(".finescroll-track").addClass("dragging").get(0),n=i.firstChild,s=parseInt(n.style.top,10),u=p.scrollHeight-t(p).innerHeight(),c=e.clientY-t(n).offset().top,f=t(i).height()-t(n).outerHeight(),h=t(i).offset().top,t(r.body).on({"mousemove.finescroll.vertical":w,"mouseup.finescroll.vertical":function(t){b.call(n,t)}}),d=t(r.body).css("cursor"),this.style.cursor=r.body.style.cursor="ns-resize",m(),!1}},c=function(e){if(1===e.which){var i,n,s,a,c,h,d,f,u,p=e.data.pane,g=t(p).data("finescroll"),v=!0,m=function(){v&&(s!==a&&(t(p).scrollLeft(s*c/u),a=s),l(m),o.call(p))},w=function(t){return v&&(s=t.clientX-d-h,s=Math.min(0>s?0:s,u),o.call(p)),!1},b=function(){return v=!1,t(i).removeClass("dragging"),r.body.style.cursor=f,this.style.cursor="",t(i).removeClass("dragging"),t(r.body).off("mousemove.finescroll.horizontal").off("mouseup.finescroll.horizontal"),!1};return i=t(g.horizontalTrackWrapper).find(".finescroll-track").addClass("dragging").get(0),n=i.firstChild,s=parseInt(n.style.left,10),c=p.scrollWidth-t(p).innerWidth(),h=e.clientX-t(n).offset().left,u=t(i).width()-t(n).outerWidth(),d=t(i).offset().left,t(r.body).on({"mousemove.finescroll.horizontal":w,"mouseup.finescroll.horizontal":function(t){b.call(n,t)}}),f=t("body").css("cursor"),this.style.cursor=r.body.style.cursor="ew-resize",m(),!1}},h=function(t){var e,r,l,o,a=this.data("finescroll");a&&(t=i.getEvent(t),l=t.detail?-t.detail:window.client&&window.client.engine.opera&&window.client.engine.opera<9.5?-t.wheelDelta:t.wheelDelta,o=a.settings.scrollIncrement,t.wheelDelta&&t.wheelDeltaX&&t.wheelDelta===t.wheelDeltaX||t.axis&&t.HORIZONTAL_AXIS&&t.axis===t.HORIZONTAL_AXIS?(e=this.scrollLeft(),s(this,0>l?o:-o),e!==this.scrollLeft()&&i.preventDefault(t)):(r=this.scrollTop(),n(this,0>l?o:-o),r!==this.scrollTop()&&i.preventDefault(t)))},d=function(){var e,r,i,l=t(this),o=l.data("finescroll");o&&(o.settings.verticalScrolling&&(r=t(o.verticalTrackWrapper).find(".finescroll-track").get(0),e=r.firstChild,i=l.scrollTop()/(this.scrollHeight-l.innerHeight()),i=isNaN(i)?0:i,e.style.top=i*(t(r).height()-t(e).outerHeight())+"px"),o.settings.horizontalScrolling&&(r=t(o.horizontalTrackWrapper).find(".finescroll-track").get(0),e=r.firstChild,i=l.scrollLeft()/(this.scrollWidth-l.innerWidth()),i=isNaN(i)?0:i,e.style.left=i*(t(r).width()-t(e).innerWidth())+"px"))},f=function(e){var r,i=t(this),l=i.data("finescroll");if(e.target===this&&l){switch(r=l.settings.scrollIncrement,e.keyCode){case 32:case 34:return n(this,i.height()),!1;case 33:return n(this,-i.height()),!1;case 35:return n(this,this.scrollHeight),!1;case 36:return n(this,-this.scrollHeight),!1;case 37:return s(this,-r),!1;case 38:return n(this,-r),!1;case 39:return s(this,r),!1;case 40:return n(this,r),!1}return!0}},u=function(t){var e,r,i,o,a,c,h,d=this,f=function(t){e=t.touches[0].clientX,r=t.touches[0].clientY,i||(i=r===a&&e===o?void 0:Math.abs(a-r)>Math.abs(o-e)?"y":"x"),t.preventDefault()},u=function(){c&&("y"===i?(n(d,a-r),h=a-r,a=r):"x"===i&&(s(d,o-e),h=o-e,o=e),l(u))},p=function(){var t=0,e=Math.round(Math.abs(1.75*h)),r=10*h*Math.log(2);this.removeEventListener("touchmove",f,!1),this.removeEventListener("touchend",p,!1),c=!1,l(function o(){if(t!==e&&!c){var a=Math.round(r/e*Math.pow(2,-10*t/e+1));isNaN(a)||0===a||(t+=1,"y"===i?n(d,a):s(d,a),l(o))}})};1===t.touches.length&&(o=t.touches[0].clientX,a=t.touches[0].clientY,c=!0,this.addEventListener("touchmove",f,!1),this.addEventListener("touchend",p,!1),l(u))},p={reposition:function(){return this.each(function(){var e,r,i,l,o,n=t(this),s=n.data("finescroll"),a=function(t,e,r){t.style.left=e+"px",t.style.top=r+"px"},c=function(e,r){var i=t(e).css(r),l=/^-?\d+/.exec(i);return l?+l[0]:0};s&&(i=n.position(),o=t.browser.msie&&/^6/.test(t.browser.version),o&&(l=n.offsetParent().get(0)),e=s.corner,s.settings.verticalScrolling&&(r=s.verticalTrackWrapper,a(r,i.left+n.outerWidth()-t(r).width()-c(this,"border-right-width")-(o?c(l,"padding-left"):0),i.top+c(this,"border-top-width")+(o?c(l,"border-top-width"):0))),s.settings.horizontalScrolling&&(r=s.horizontalTrackWrapper,a(r,i.left+c(this,"border-left-width")-(o?c(l,"padding-left"):0),i.top+n.outerHeight()-t(r).height()-c(this,"border-bottom-width")+(o?c(l,"border-bottom-width"):0))),e&&a(e,i.left+n.outerWidth()-t(e).outerWidth()-c(this,"border-right-width")-(o?c(l,"padding-left"):0),i.top+n.outerHeight()-t(e).outerHeight()-c(this,"border-bottom-width")+(o?c(l,"border-bottom-width"):0)))})},resize:function(){return this.each(function(){var e,r,i,l,o,n,s,a,c,h,d,f,u,p,g,v,m=t(this),w=m.data("finescroll");m.is(":visible")&&w&&(e=w.settings,e.verticalScrolling&&(l=w.verticalTrackWrapper,r=m.innerHeight(),o=r/this.scrollHeight,n=t(l).find(".finescroll-track").get(0),c=t(l).find("."+e.scrollUpButtonClass),h=t(l).find("."+e.scrollDownButtonClass),a=e.horizontalScrolling?r-t(w.horizontalTrackWrapper).find(".finescroll-track").outerHeight():r,a-=t(n).outerHeight()-t(n).height()+c.outerHeight()+h.outerHeight(),u=n.firstChild,g=Math.max(o*a,e.minScrollbarLength),g-=t(u).outerHeight()-t(u).height(),l.style.display="none",n.style.height=a+"px",u.style.height=g+"px",1>o&&(o=m.scrollTop()/(this.scrollHeight-m.height()),u.style.top=o*(a-g)+"px",l.style.display="block")),e.horizontalScrolling&&(l=w.horizontalTrackWrapper,i=m.innerWidth(),o=i/this.scrollWidth,n=t(l).find(".finescroll-track").get(0),d=t(l).find("."+e.scrollLeftButtonClass),f=t(l).find("."+e.scrollRightButtonClass),s=e.verticalScrolling?i-t(w.verticalTrackWrapper).find(".finescroll-track").outerWidth():i,s-=t(n).outerWidth()-t(n).width()+d.outerWidth()+f.outerWidth(),u=n.firstChild,p=Math.max(o*s,e.minScrollbarLength),p-=t(u).outerWidth()-t(u).width(),l.style.display="none",n.style.width=s+"px",u.style.width=p+"px",1>o&&(o=m.scrollLeft()/(this.scrollWidth-m.width()),u.style.left=o*(s-p)+"px",l.style.display="block"),w._prybar&&(v=w._prybar,this.removeChild(v),e.verticalScrolling&&(v.style.width=this.scrollWidth+t(w.verticalTrackWrapper).find(".finescroll-track").outerWidth()+"px",this.appendChild(v)))),w.corner&&(w.corner.style.display=w.verticalTrackWrapper&&w.horizontalTrackWrapper&&t(w.verticalTrackWrapper).is(":visible")&&t(w.horizontalTrackWrapper).is(":visible")?"block":"none"))})},startPolling:function(){return this.each(function(){var e,r=t(this).data("finescroll"),i=this,l=t(i),o=-1,n=-1,s=-1,a=-1,c=function(){if(r.settings.pollChanges){var t=i.scrollWidth,h=i.scrollHeight,d=l.width(),f=l.height(),u=l.offset();(r.settings.verticalScrolling&&(f!==n||h!==a)||r.settings.horizontalScrolling&&(d!==o||t!==s))&&(s=t,a=h,p.resize.call(l)),(e.left!==u.left||e.top!==u.top||d!==o||f!==n)&&(e=u,o=d,n=f,p.reposition.call(l)),setTimeout(c,350)}};r&&(r.settings.pollChanges=!0,a=i.scrollHeight,s=i.scrollWidth,e=l.offset(),c())})},stopPolling:function(){return this.each(function(){var e=t(this).data("finescroll");e&&(e.settings.pollChanges=!1)})},destroy:function(){return this.each(function(){var r,i,l=t(this),o=l.data("finescroll");o&&(p.stopPolling.call(l),i=o._mouseScrollHandler,o.settings.verticalScrolling&&(r=o.verticalTrackWrapper,t(r).remove(),r=null),o.settings.horizontalScrolling&&(r=o.horizontalTrackWrapper,t(r).remove(),r=null),o._fadeTimer&&clearTimeout(o._fadeTimer),o.corner&&t(o.corner).remove(),o._prybar&&o._prybar.parentNode&&o._prybar.parentNode===this&&t(o._prybar).remove(),this.setAttribute("style",o._style||""),o._hadTabIndex||l.removeAttr("tabindex"),l.off("scroll.finescroll.pane").off("keydown.finescroll.pane").off("mouseenter.finescroll.pane").data("finescroll",null),this.removeEventListener?(this.removeEventListener("mousewheel",i,!1),this.removeEventListener("DOMMouseScroll",i,!1),this.removeEventListener("touchstart",u,!1)):this.detachEvent&&this.detachEvent("onmousewheel",i),t(e).off("resize.finescroll.window"))})}};t.fn.finescroll=function(i){if(p[i])return p[i].call(this);var l=t.extend({verticalScrolling:!0,horizontalScrolling:!1,showOnHover:!1,scrollIncrement:20,minScrollbarLength:40,pollChanges:!0,drawCorner:!0,drawScrollButtons:!1,clickTrackToScroll:!0,verticalTrackClass:"vertical-track",horizontalTrackClass:"horizontal-track",horizontalHandleClass:"horizontal-handle",verticalHandleClass:"vertical-handle",scrollUpButtonClass:"scroll-up-btn",scrollDownButtonClass:"scroll-down-btn",scrollLeftButtonClass:"scroll-left-btn",scrollRightButtonClass:"scroll-right-btn",cornerClass:"scrollbar-corner",zIndex:1,horizontalHandleHTML:'<div class="rleft"></div><div class="rright"></div>',verticalHandleHTML:'<div class="rtop"></div><div class="rbottom"></div>'},i);return this.each(function(){if(l.verticalScrolling||l.horizontalScrolling){var i,g,v,m,w,b,y,T,k,C,z,W,H,x,S,L,E,_=t(this),I=this,M=(_.innerWidth(),_.innerHeight(),_.offset(),_.attr("style")),B=!0,D=(I.scrollWidth,I.scrollHeight,{position:"absolute","z-index":l.zIndex,margin:0,padding:0}),A=function(t){h.call(_,t)},O=function(e,r){"string"==typeof r?t(e).html(r):"object"==typeof r&&null!==r&&r.nodeType&&1===r.nodeType&&e.appendChild(r)};if(l.verticalScrolling){g=r.createElement("div"),m=r.createElement("div"),b=r.createElement("a"),t(m).css("position","relative").addClass("finescroll-track").addClass(l.verticalTrackClass).appendTo(g),l.drawScrollButtons&&(y=r.createElement("a"),T=r.createElement("a"),t(y).css({display:"block","text-decoration":"none"}).attr("href","").html("&nbsp;").addClass(l.scrollUpButtonClass).on("click",function(){return n(I,-l.scrollIncrement),!1}).insertBefore(m),t(T).css({display:"block","text-decoration":"none"}).attr("href","").html("&nbsp;").on("click",function(){return n(I,l.scrollIncrement),!1}).addClass(l.scrollDownButtonClass).appendTo(g)),l.clickTrackToScroll&&t(m).on("click",function(e){e.target===this&&n(I,e.pageY>t(b).offset().top?_.height():-_.height())}),t(b).css({position:"absolute","z-index":1}).attr("href","").addClass(l.verticalHandleClass).mousedown({pane:this},a).click(function(){return!1}).appendTo(m),O(b,l.verticalHandleHTML),t(g).css(D).insertAfter(this),l.showOnHover&&t(g).css("opacity",0).on("mouseover.finescroll.vertical",function(){o.call(I,!1)}).on("mouseout.finescroll.vertical",function(){o.call(I)}),W=t(m).outerWidth(),_.css({width:_.width()-W+"px","padding-right":parseInt(_.css("padding-right"),10)+W+"px"});try{L=parseInt(_.css("outline-width"),10),0!==L&&!isNaN(L)||"none"!==_.css("outline-style")||_.css("outline","none")}catch(N){_.css("outline","none")}}l.horizontalScrolling&&(i=r.createElement("div"),v=r.createElement("div"),w=r.createElement("a"),t(v).css({position:"relative","z-index":1}).addClass("finescroll-track").addClass(l.horizontalTrackClass).appendTo(i),l.drawScrollButtons&&(k=r.createElement("a"),C=r.createElement("a"),t(k).css("display","block").attr("href","").on("click",function(){return s(I,-l.scrollIncrement),!1}).addClass(l.scrollLeftButtonClass).insertBefore(v),t(C).css("display","block").attr("href","").on("click",function(){return s(I,l.scrollIncrement),!1}).addClass(l.scrollRightButtonClass).appendTo(i)),l.clickTrackToScroll&&t(v).on("click",function(e){e.target===this&&s(I,e.pageX>t(w).offset().left?_.width():-_.width())}),t(w).css({position:"absolute","z-index":1}).attr("href","").addClass(l.horizontalHandleClass).click(function(){return!1}).mousedown({pane:this},c).appendTo(v),O(w,l.horizontalHandleHTML),t(i).css(D).insertAfter(this),l.showOnHover&&t(i).css("opacity",0).on("mouseover.finescroll.horizontal",function(){o.call(I,!1)}).on("mouseout.finescroll.horizontal",function(){o.call(I)}),z=t(v).outerHeight(),_.css({height:_.height()-z+"px","padding-bottom":parseInt(_.css("padding-bottom"),10)+z+"px"}),(!t.browser.msie||t.browser.msie&&t.browser.version>7)&&(E=document.createElement("div"),t(E).css({width:"1px",height:"1px",visibility:"hidden",padding:0,margin:"-1px"}).appendTo(this))),l.verticalScrolling&&l.horizontalScrolling&&l.drawCorner&&(H=r.createElement("div"),t(H).addClass(l.cornerClass).css(D).insertAfter(this)),S=_.attr("tabindex"),(!S||S.length<1)&&(_.attr("tabindex",0),B=!1);try{x=_.css("outline"),(!x||x.length<1)&&_.css("outline","none")}catch(N){_.css("outline","none")}_.on({"scroll.finescroll.pane":function(t){d.call(this,t)},"keydown.finescroll.pane":f}).css("overflow","hidden").data("finescroll",{settings:l,horizontalTrackWrapper:i,verticalTrackWrapper:g,corner:H,_prybar:E,_mouseScrollHandler:A,_hadTabIndex:B,_style:M}),t(e).on("resize.finescroll.window",function(){p.reposition.call(_)}),l.showOnHover&&_.on("mouseenter.finescroll.pane",function(){o.call(this)}),this.addEventListener?(this.addEventListener("mousewheel",A,!1),this.addEventListener("DOMMouseScroll",A,!1),this.addEventListener("touchstart",u,!1)):this.attachEvent&&this.attachEvent("onmousewheel",A),l.pollChanges?p.startPolling.call(_):(p.resize.call(_),p.reposition.call(_)),t(m,v).removeClass(l.verticalTrackClass).addClass(l.verticalTrackClass)}})}}(jQuery,window,document);
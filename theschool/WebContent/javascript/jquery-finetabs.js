!function(t){function s(t,s){i&&window.console&&window.console.log&&(s?window.console.log(s+": ",t):window.console.log(t))}var i=!0;t.fn.extend({getUniqueId:function(t,s,i){return i=void 0===i?"":"-"+i,t+s+i},fineTabs:function(i){var n={wrapperClass:"content",currentClass:"current",tabhead:"h4",tabheadClass:"tabhead",tabbody:".tabbody",fx:"show",fxspeed:"normal",currentInfoText:"current tab: ",currentInfoPosition:"prepend",currentInfoClass:"current-info",tabsListClass:"tabs-list",syncheights:!1,syncHeightMethodName:"syncHeight",cssClassAvailable:!1,saveState:!1,autoAnchor:!1,pagination:!1,position:"top",wrapInnerNavLinks:"",firstNavItemClass:"first",lastNavItemClass:"last",clearfixClass:"clearfix"},a={37:-1,38:-1,39:1,40:1},o={top:"prepend",bottom:"append"};this.options=t.extend(n,i);var e=0;void 0!==t("body").data("fineTabsCount")&&(e=t("body").data("fineTabsCount")),t("body").data("fineTabsCount",this.size()+e);var r=this;return this.each(function(i){var n=t(this),l="",c=0,d=[];t(n).wrapInner('<div class="'+r.options.wrapperClass+'"></div>'),t(n).find(r.options.tabhead).each(function(s){var n="",a=t(this).attr("id");if(a){if(0===a.indexOf("finetabscontent"))return;n=' id="'+a+'"',alert(" id "+a)}var o=r.getUniqueId("finetabscontent",e+i,s),f=r.getUniqueId("finetabsnavigation",e+i,s);if(d.push(o),r.options.cssClassAvailable===!0){var p="";t(this).attr("class")&&(p=t(this).attr("class"),p=' class="'+p+'"'),l+='<li id="'+f+'"><a'+n+p+' href="#'+o+'">'+t(this).html()+"</a></li>"}else l+='<li id="'+f+'"><a'+n+' href="#'+o+'">'+t(this).html()+"</a></li>";t(this).attr({id:o,"class":r.options.tabheadClass,tabindex:"-1"}),c++}),r.options.syncheights&&t.fn[r.options.syncHeightMethodName]&&(t(n).find(r.options.tabbody)[r.options.syncHeightMethodName](),t(window).resize(function(){t(n).find(r.options.tabbody)[r.options.syncHeightMethodName]()}));var f="."+r.options.tabsListClass;t(n).find(f).length||t(n)[o[r.options.position]]('<ul class="'+r.options.clearfixClass+" "+r.options.tabsListClass+" tabamount"+c+'"></ul>'),t(n).find(f).append(l);var p=t(n).find(r.options.tabbody);if(p.length>0&&(t(p).hide(),t(p[0]).show()),t(n).find("ul."+r.options.tabsListClass+">li:first").addClass(r.options.currentClass).addClass(r.options.firstNavItemClass).find("a")[r.options.currentInfoPosition]('<span class="'+r.options.currentInfoClass+'">'+r.options.currentInfoText+"</span>").parents("ul."+r.options.tabsListClass).children("li:last").addClass(r.options.lastNavItemClass),r.options.wrapInnerNavLinks&&t(n).find("ul."+r.options.tabsListClass+">li>a").wrapInner(r.options.wrapInnerNavLinks),t(n).find("ul."+r.options.tabsListClass+">li>a").each(function(s){t(this).click(function(i){i.preventDefault(),n.trigger("showTab.fineTabs",[t(i.target)]),r.options.saveState&&t.cookie&&t.cookie("finetab_"+n.attr("id")+"_active",s),t(n).find("ul."+r.options.tabsListClass+">li."+r.options.currentClass).removeClass(r.options.currentClass).find("span."+r.options.currentInfoClass).remove(),t(this).blur(),t(n).find(r.options.tabbody+":visible").hide(),t(n).find(r.options.tabbody).eq(s)[r.options.fx](r.options.fxspeed),t(this)[r.options.currentInfoPosition]('<span class="'+r.options.currentInfoClass+'">'+r.options.currentInfoText+"</span>").parent().addClass(r.options.currentClass),t(t(this).attr("href")).focus().keyup(function(i){a[i.keyCode]&&(r.showFineTab(s+a[i.keyCode]),t(this).unbind("keyup"))})}),t(this).focus(function(){t(document).keyup(function(t){a[t.keyCode]&&r.showFineTab(s+a[t.keyCode])})}),t(this).blur(function(){t(document).unbind("keyup")})}),r.options.saveState&&t.cookie){var h=t.cookie("finetab_"+n.attr("id")+"_active");s(t.cookie("finetab_"+n.attr("id")+"_active")),null!==h&&r.showFineTab(h,n.attr("id"))}if(r.options.autoAnchor&&window.location.hash){var u=t("."+r.options.tabsListClass).find(window.location.hash);u.size()&&u.click()}if(r.options.pagination){var b='<ul class="pagination">';b+='    <li class="previous"><a href="#{previousAnchor}"><span>{previousHeadline}</span></a></li>',b+='    <li class="next"><a href="#{nextAnchor}"><span>{nextHeadline}</span></a></li>',b+="</ul>";var v=t(n).find(".tabbody"),C=v.size();v.each(function(s){t(this).append(b);var i=s+1;i>=C&&(i=0);var a=s-1;0>a&&(a=C-1);var o=t(this).find(".pagination"),e=o.find(".previous");e.find("span").text(t("#"+d[a]).text()),e.find("a").attr("href","#"+d[a]).click(function(s){s.preventDefault(),t(n).find(".tabs-list a").eq(a).click()});var r=o.find(".next");r.find("span").text(t("#"+d[i]).text()),r.find("a").attr("href","#"+d[i]).click(function(s){s.preventDefault(),t(n).find(".tabs-list a").eq(i).click()})})}})},showFineTab:function(i,n){s("showFineTab");var a=this;if(!n)return this.each(function(){var s=t(this);s.trigger("showTab.fineTabs");var n=s.find("ul."+a.options.tabsListClass+">li>a");s.trigger("showTab.fineTabs",[n.eq(i)]),n.eq(i).click()});var o=t("#"+n),e=o.find("ul."+a.options.tabsListClass+">li>a");o.trigger("showTab.fineTabs",[e.eq(i)]),e.eq(i).click()},showFineTabSelector:function(i){s("showFineTabSelector");var n=t(i);n&&("a"===n.get(0).nodeName.toLowerCase()?n.click():s("the selector of a showFineTabSelector() call needs to point to a tabs headline!"))}})}(jQuery);